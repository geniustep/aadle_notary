<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ============================================ -->
    <!-- QWeb Template لعقد الزواج -->
    <!-- ============================================ -->

    <template id="report_marriage_contract_document">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page" style="direction: rtl; font-family: 'Scheherazade New', 'Amiri', serif;">

                        <style>
                            @page {
                                size: A4;
                                margin: 1.5cm;
                            }

                            * {
                                margin: 0;
                                padding: 0;
                                box-sizing: border-box;
                            }

                            body {
                                font-family: 'Scheherazade New', 'Amiri', serif;
                                line-height: 2;
                                color: #2C1810;
                                background: #fdfbf7;
                            }

                            .container {
                                background: #ffffff;
                                padding: 25px;
                                position: relative;
                                border: 4px solid #8B6914;
                                box-shadow: inset 0 0 0 2px #D4AF37, inset 0 0 0 6px #8B6914;
                            }

                            /* الزخرفة المغربية في الزوايا */
                            .corner-decoration {
                                position: absolute;
                                width: 80px;
                                height: 80px;
                                border: 3px solid #8B6914;
                            }

                            .corner-decoration::before,
                            .corner-decoration::after {
                                content: '';
                                position: absolute;
                                background: #8B6914;
                            }

                            .top-left {
                                top: -4px;
                                left: -4px;
                                border-bottom: none;
                                border-right: none;
                            }

                            .top-left::before {
                                top: 15px;
                                left: 15px;
                                width: 50px;
                                height: 3px;
                                transform: rotate(45deg);
                            }

                            .top-left::after {
                                top: 15px;
                                left: 15px;
                                width: 3px;
                                height: 50px;
                                transform: rotate(45deg);
                            }

                            .top-right {
                                top: -4px;
                                right: -4px;
                                border-bottom: none;
                                border-left: none;
                            }

                            .top-right::before {
                                top: 15px;
                                right: 15px;
                                width: 50px;
                                height: 3px;
                                transform: rotate(-45deg);
                            }

                            .top-right::after {
                                top: 15px;
                                right: 15px;
                                width: 3px;
                                height: 50px;
                                transform: rotate(-45deg);
                            }

                            .bottom-left {
                                bottom: -4px;
                                left: -4px;
                                border-top: none;
                                border-right: none;
                            }

                            .bottom-left::before {
                                bottom: 15px;
                                left: 15px;
                                width: 50px;
                                height: 3px;
                                transform: rotate(-45deg);
                            }

                            .bottom-left::after {
                                bottom: 15px;
                                left: 15px;
                                width: 3px;
                                height: 50px;
                                transform: rotate(-45deg);
                            }

                            .bottom-right {
                                bottom: -4px;
                                right: -4px;
                                border-top: none;
                                border-left: none;
                            }

                            .bottom-right::before {
                                bottom: 15px;
                                right: 15px;
                                width: 50px;
                                height: 3px;
                                transform: rotate(45deg);
                            }

                            .bottom-right::after {
                                bottom: 15px;
                                right: 15px;
                                width: 3px;
                                height: 50px;
                                transform: rotate(45deg);
                            }

                            .header {
                                display: flex;
                                justify-content: space-between;
                                align-items: flex-start;
                                margin-bottom: 20px;
                                padding-bottom: 15px;
                                border-bottom: 3px double #8B6914;
                                position: relative;
                            }

                            .header::after {
                                content: '✦';
                                position: absolute;
                                bottom: -12px;
                                left: 50%;
                                transform: translateX(-50%);
                                background: #fff;
                                padding: 0 10px;
                                color: #8B6914;
                                font-size: 20px;
                            }

                            .header-right {
                                text-align: right;
                                flex: 1;
                            }

                            .header-left {
                                text-align: left;
                                flex: 1;
                                padding-top: 10px;
                            }

                            .kingdom {
                                font-size: 24px;
                                font-weight: 700;
                                color: #8B6914;
                                margin-bottom: 8px;
                                text-shadow: 1px 1px 2px rgba(139, 105, 20, 0.3);
                            }

                            .ministry {
                                font-size: 20px;
                                font-weight: 700;
                                color: #C04000;
                                margin-bottom: 10px;
                            }

                            .court-info {
                                font-size: 16px;
                                color: #4A4A4A;
                                margin-bottom: 5px;
                            }

                            .document-info {
                                font-size: 15px;
                                color: #4A4A4A;
                                margin-bottom: 6px;
                                padding: 4px 0;
                            }

                            .document-info .label {
                                font-weight: 700;
                                color: #8B6914;
                            }

                            .title {
                                font-size: 32px;
                                font-weight: 700;
                                color: #8B6914;
                                text-align: center;
                                margin: 25px 0;
                                padding: 12px;
                                border-top: 3px solid #8B6914;
                                border-bottom: 3px solid #8B6914;
                                position: relative;
                                background: linear-gradient(to right, transparent, rgba(212, 175, 55, 0.1), transparent);
                            }

                            .title::before {
                                content: '❋';
                                position: absolute;
                                right: 20px;
                                color: #D4AF37;
                                font-size: 28px;
                            }

                            .title::after {
                                content: '❋';
                                position: absolute;
                                left: 20px;
                                color: #D4AF37;
                                font-size: 28px;
                            }

                            .separator {
                                text-align: center;
                                color: #8B6914;
                                font-weight: 700;
                                margin: 18px 0;
                                font-size: 20px;
                                letter-spacing: 2px;
                            }

                            .content {
                                text-align: right;
                                font-size: 18px;
                                line-height: 2.2;
                                margin-bottom: 15px;
                                text-indent: 30px;
                            }

                            .section-title {
                                font-size: 22px;
                                font-weight: 700;
                                color: #8B6914;
                                margin: 20px 0 12px 0;
                                text-align: center;
                                padding: 10px;
                                background: linear-gradient(to right, transparent, rgba(212, 175, 55, 0.15), transparent);
                                border-right: 5px solid #8B6914;
                                border-left: 5px solid #8B6914;
                                position: relative;
                            }

                            .section-title::before,
                            .section-title::after {
                                content: '◆';
                                color: #D4AF37;
                                margin: 0 10px;
                            }

                            .info-block {
                                margin: 15px 0;
                                padding: 18px 25px;
                                background: linear-gradient(to left, rgba(212, 175, 55, 0.05), transparent);
                                border-right: 4px solid #D4AF37;
                                position: relative;
                            }

                            .info-block::before {
                                content: '';
                                position: absolute;
                                top: 0;
                                right: 0;
                                width: 15px;
                                height: 15px;
                                border-top: 3px solid #8B6914;
                                border-right: 3px solid #8B6914;
                            }

                            .info-block::after {
                                content: '';
                                position: absolute;
                                bottom: 0;
                                right: 0;
                                width: 15px;
                                height: 15px;
                                border-bottom: 3px solid #8B6914;
                                border-right: 3px solid #8B6914;
                            }

                            .info-line {
                                margin: 10px 0;
                                font-size: 17px;
                                line-height: 2;
                            }

                            .label {
                                font-weight: 700;
                                color: #8B6914;
                            }

                            .value {
                                color: #2C1810;
                                display: inline-block;
                                margin-right: 10px;
                            }

                            .highlight {
                                font-weight: 700;
                                color: #C04000;
                            }

                            .blessing {
                                text-align: center;
                                font-size: 22px;
                                font-weight: 700;
                                color: #8B6914;
                                margin: 25px 0;
                                padding: 15px;
                                background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(139, 105, 20, 0.1));
                                border: 2px solid #D4AF37;
                                border-radius: 5px;
                                position: relative;
                            }

                            .blessing::before {
                                content: '✿';
                                position: absolute;
                                right: 15px;
                                font-size: 24px;
                                color: #D4AF37;
                            }

                            .blessing::after {
                                content: '✿';
                                position: absolute;
                                left: 15px;
                                font-size: 24px;
                                color: #D4AF37;
                            }

                            .signatures {
                                margin-top: 30px;
                                display: grid;
                                grid-template-columns: 1fr 1fr;
                                gap: 30px;
                                padding: 20px 0;
                            }

                            .signature-box {
                                text-align: center;
                                padding: 15px;
                            }

                            .signature-label {
                                font-weight: 700;
                                font-size: 18px;
                                margin-bottom: 35px;
                                color: #8B6914;
                            }

                            .signature-line {
                                border-bottom: 2px solid #8B6914;
                                width: 85%;
                                margin: 0 auto;
                            }

                            .quranic-verse {
                                text-align: center;
                                font-size: 19px;
                                font-weight: 700;
                                color: #8B6914;
                                margin-top: 25px;
                                padding: 18px;
                                border-top: 3px double #8B6914;
                                border-bottom: 3px double #8B6914;
                                background: linear-gradient(to right, transparent, rgba(212, 175, 55, 0.08), transparent);
                                position: relative;
                            }

                            .quranic-verse::before {
                                content: '﴾';
                                position: absolute;
                                right: 15px;
                                font-size: 32px;
                                color: #D4AF37;
                            }

                            .quranic-verse::after {
                                content: '﴿';
                                position: absolute;
                                left: 15px;
                                font-size: 32px;
                                color: #D4AF37;
                            }

                            .decorative-line {
                                height: 2px;
                                background: linear-gradient(to right, transparent, #D4AF37, transparent);
                                margin: 15px 0;
                            }
                        </style>

                        <!-- تحضير البيانات -->
                        <t t-set="data" t-value="o.data or {}"/>
                        <t t-set="court_name" t-value="data.get('court_name', o.company_id.name or '')"/>
                        <t t-set="court_type" t-value="data.get('court_type', 'الابتدائية')"/>
                        <t t-set="court_city" t-value="data.get('court_city', o.company_id.city or '')"/>

                        <t t-set="groom_name" t-value="data.get('groom_name', data.get('husband_name_ar', ''))"/>
                        <t t-set="bride_name" t-value="data.get('bride_name', data.get('wife_name_ar', ''))"/>

                        <div class="container">
                            <!-- الزخارف في الزوايا -->
                            <div class="corner-decoration top-left"></div>
                            <div class="corner-decoration top-right"></div>
                            <div class="corner-decoration bottom-left"></div>
                            <div class="corner-decoration bottom-right"></div>

                            <!-- الرأسية -->
                            <div class="header">
                                <div class="header-right">
                                    <div class="kingdom">المملكة المغربيــــــــــــــة</div>
                                    <div class="ministry">وزارة العــــدل والحريات</div>
                                    <div class="court-info">محكمة <t t-esc="court_name"/></div>
                                    <div class="court-info">المحكمة <t t-esc="court_type"/> - قسم قضاء الأسرة</div>
                                </div>
                                <div class="header-left">
                                    <div class="document-info">
                                        <span class="label">ضمن بعدد:</span> <t t-esc="o.name"/>
                                    </div>
                                    <div class="document-info">
                                        <span class="label">صحيفة:</span> <t t-esc="data.get('document_page', '')"/>
                                    </div>
                                    <div class="document-info">
                                        <span class="label">كناش الأملاك رقم:</span> <t t-esc="data.get('document_registry', '')"/>
                                    </div>
                                    <div class="document-info">
                                        <span class="label">بتاريخ:</span> <t t-esc="o.date_created"/>
                                    </div>
                                </div>
                            </div>

                            <!-- العنوان -->
                            <div class="title">عقــــــد زواج</div>

                            <!-- الفاصل -->
                            <div class="separator">❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈ ❈</div>

                            <!-- المقدمة -->
                            <div class="content">
                                الحمد لله وحده نحن <span class="highlight"><t t-esc="data.get('notary_first', o.notary_id.name or '')"/></span> و <span class="highlight"><t t-esc="data.get('notary_second', '')"/></span> العدلان المنتصبان لتلقي الشهادات وتحريرها بالمحكمة الابتدائية ب<span class="highlight"><t t-esc="court_city"/></span> تلقينا بمذكرة الحفظ <span class="highlight"><t t-esc="data.get('memo_number', '')"/></span> لأولهما تحت عدد <span class="highlight"><t t-esc="data.get('memo_record', '')"/></span> صحيفة <span class="highlight"><t t-esc="data.get('memo_page', '')"/></span> عقد زواج هذا نصه:
                            </div>

                            <div class="content">
                                بناء على الإذن بتوثيق عقد الزواج من قاضي الأسرة المكلف بالزواج رقم <span class="highlight"><t t-esc="data.get('authorization_number', '')"/></span> بتاريخ <span class="highlight"><t t-esc="data.get('authorization_date', '')"/></span> ملف مستندات الزواج عدد <span class="highlight"><t t-esc="data.get('file_number', '')"/></span> المودع بقسم قضاء الأسرة بالمحكمة المذكورة.
                            </div>

                            <div class="decorative-line"></div>

                            <!-- بيانات الزوج -->
                            <div class="section-title">◆ بيانات الزوج ◆</div>
                            <div class="info-block">
                                <div class="info-line">
                                    <span class="label">تزوج على بركة الله تعالى السيد:</span>
                                    <span class="value"><t t-esc="groom_name"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">المولود ب:</span>
                                    <span class="value"><t t-esc="data.get('groom_birthplace', data.get('husband_birthplace', ''))"/> - دائرة <t t-esc="data.get('groom_district', '')"/> - عمالة/إقليم <t t-esc="data.get('groom_province', '')"/> في سنة <t t-esc="data.get('groom_birth_year', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">من والديه:</span>
                                    <span class="value"><t t-esc="data.get('groom_father', data.get('husband_father_name', ''))"/> و <t t-esc="data.get('groom_mother', data.get('husband_mother_name', ''))"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">حسب عقد ولادته رقم:</span>
                                    <span class="value"><t t-esc="data.get('groom_birth_certificate', '')"/> من جماعة <t t-esc="data.get('groom_commune', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">بطاقته الوطنية رقم:</span>
                                    <span class="value"><t t-esc="data.get('groom_national_id', data.get('husband_national_id', ''))"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">مهنته:</span>
                                    <span class="value"><t t-esc="data.get('groom_occupation', '')"/></span> -
                                    <span class="label">جنسيته:</span>
                                    <span class="value">مغربية</span>
                                </div>
                                <div class="info-line">
                                    <span class="label">حالته العائلية:</span>
                                    <span class="value"><t t-esc="data.get('groom_marital_status', 'أعزب')"/> حسب الشهادة الإدارية للزواج رقم <t t-esc="data.get('groom_certificate_number', '')"/> من جماعة <t t-esc="data.get('groom_certificate_commune', '')"/> إقليم <t t-esc="data.get('groom_certificate_province', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">الساكن:</span>
                                    <span class="value"><t t-esc="data.get('groom_address', data.get('husband_address', ''))"/></span>
                                </div>
                            </div>

                            <div class="decorative-line"></div>

                            <!-- بيانات الزوجة -->
                            <div class="section-title">◆ بيانات الزوجة ◆</div>
                            <div class="info-block">
                                <div class="info-line">
                                    <span class="label">البنت:</span>
                                    <span class="value"><t t-esc="bride_name"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">المولودة ب:</span>
                                    <span class="value"><t t-esc="data.get('bride_birthplace', data.get('wife_birthplace', ''))"/> - دائرة <t t-esc="data.get('bride_district', '')"/> سنة <t t-esc="data.get('bride_birth_year', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">من والديها:</span>
                                    <span class="value"><t t-esc="data.get('bride_father', data.get('wife_father_name', ''))"/> و <t t-esc="data.get('bride_mother', data.get('wife_mother_name', ''))"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">حسب عقد ولادتها رقم:</span>
                                    <span class="value"><t t-esc="data.get('bride_birth_certificate', '')"/> من جماعة <t t-esc="data.get('bride_commune', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">تحمل شهادة السكنى رقم:</span>
                                    <span class="value"><t t-esc="data.get('bride_residence_certificate', '')"/> من قيادة <t t-esc="data.get('bride_leadership', '')"/> دائرة <t t-esc="data.get('bride_district', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">مهنتها:</span>
                                    <span class="value"><t t-esc="data.get('bride_occupation', '')"/></span> -
                                    <span class="label">جنسيتها:</span>
                                    <span class="value">مغربية</span>
                                </div>
                                <div class="info-line">
                                    <span class="label">حالتها العائلية:</span>
                                    <span class="value"><t t-esc="data.get('bride_marital_status', 'عزباء')"/> حسب الشهادة الإدارية للزواج تحمل رقم <t t-esc="data.get('bride_certificate_number', '')"/> من جماعة <t t-esc="data.get('bride_certificate_commune', '')"/> دائرة <t t-esc="data.get('bride_certificate_district', '')"/></span>
                                </div>
                                <div class="info-line">
                                    <span class="label">الساكنة:</span>
                                    <span class="value"><t t-esc="data.get('bride_address', data.get('wife_address', ''))"/> إقليم <t t-esc="data.get('bride_province', '')"/></span>
                                </div>
                            </div>

                            <div class="decorative-line"></div>

                            <!-- تفاصيل العقد -->
                            <div class="content">
                                الحل للزواج الخالية من موانعه على صداق مبارك قدره <span class="highlight"><t t-esc="data.get('dowry_amount_text', '')"/> (<t t-esc="data.get('dowry_total', 0)"/>) درهم</span> قبضت الزوجة المذكورة جميع الصداق من الزوج المذكور قبضا تاما اعترافا وأبرأته منه فبرئ.
                            </div>

                            <div class="content">
                                تزوجها على وفق الكتاب والسنة عقدت الزوجة المذكورة زواجها بنفسها مع الزوج المذكور سمع شهيداه منهما الإيجاب والقبول وهما متمتعان بالأهلية والتمييز والاختيار دون شروط لأحدهما على الآخر.
                            </div>

                            <div class="content">
                                وأشعر الزوجان من طرف شهيديه بأنه يجوز لهما في إطار تدبير الأموال التي ستكتسب أثناء قيام الزوجية الاتفاق على استثمارها وتوزيعها في وثيقة مستقلة عن عقد الزواج.
                            </div>

                            <!-- البركة -->
                            <div class="blessing">
                                والله يؤلف بينهما لما يحبه ويرضاه
                            </div>

                            <div class="content">
                                عرفا قدره شهد به عليهما من أشهداه على ذلك وهما بأتمه وحرر بتاريخه.
                            </div>

                            <div class="decorative-line"></div>

                            <!-- التوقيعات -->
                            <div class="signatures">
                                <div class="signature-box">
                                    <div class="signature-label">إمضاء الزوج</div>
                                    <div class="signature-line"></div>
                                </div>
                                <div class="signature-box">
                                    <div class="signature-label">إمضاء الزوجة</div>
                                    <div class="signature-line"></div>
                                </div>
                                <div class="signature-box">
                                    <div class="signature-label">إمضاء العدل الأول</div>
                                    <div class="signature-line"></div>
                                </div>
                                <div class="signature-box">
                                    <div class="signature-label">إمضاء العدل الثاني</div>
                                    <div class="signature-line"></div>
                                </div>
                            </div>

                            <!-- الآية القرآنية -->
                            <div class="quranic-verse">
                                وَمِنْ آيَاتِهِ أَنْ خَلَقَ لَكُم مِّنْ أَنفُسِكُمْ أَزْوَاجًا لِّتَسْكُنُوا إِلَيْهَا وَجَعَلَ بَيْنَكُم مَّوَدَّةً وَرَحْمَةً
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>

</odoo>
