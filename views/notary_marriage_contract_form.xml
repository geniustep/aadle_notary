<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ============================================ -->
    <!-- View Form ููุณูุน ูุนูุฏ ุงูุฒูุงุฌ -->
    <!-- ============================================ -->

    <record id="view_notary_document_marriage_form" model="ir.ui.view">
        <field name="name">notary.document.marriage.form</field>
        <field name="model">notary.document</field>
        <field name="priority">20</field>
        <field name="arch" type="xml">
            <form string="ุนูุฏ ุฒูุงุฌ">
                <header>
                    <!-- Actions Buttons -->
                    <button name="action_confirm" string="ุชุฃููุฏ" type="object"
                            class="oe_highlight" invisible="state != 'draft'"/>

                    <button name="action_finalize" string="ุฅุชูุงู" type="object"
                            class="oe_highlight" invisible="state != 'confirmed'"/>

                    <button name="action_generate_pdf" string="ุชูููุฏ PDF (aadle_docgen)" type="object"
                            invisible="state not in ['draft', 'confirmed']"/>

                    <button name="%(aadle_notary.action_report_marriage_contract)d" string="ุทุจุงุนุฉ PDF (Odoo)" type="action"
                            invisible="state not in ['draft', 'confirmed']"
                            class="btn-primary"/>

                    <button name="action_cancel" string="ุฅูุบุงุก" type="object"
                            class="btn-secondary"
                            invisible="state in ['finalized', 'cancelled']"/>

                    <button name="action_draft" string="ุฅุฑุฌุงุน ูููุณูุฏุฉ" type="object"
                            invisible="state != 'cancelled'"/>

                    <!-- Statusbar -->
                    <field name="state" widget="statusbar"
                           statusbar_visible="draft,confirmed,finalized"/>
                </header>

                <sheet>
                    <!-- Ribbons -->
                    <widget name="web_ribbon" title="ููุบู" bg_color="text-bg-danger"
                            invisible="state != 'cancelled'"/>
                    <widget name="web_ribbon" title="ููุชูู" bg_color="text-bg-success"
                            invisible="state != 'finalized'"/>

                    <!-- Smart Buttons -->
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_invoice" type="object"
                                class="oe_stat_button" icon="fa-pencil-square-o"
                                invisible="not invoice_id">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_text">ุงููุงุชูุฑุฉ</span>
                                <span class="o_stat_value">
                                    <field name="invoice_state" widget="badge"/>
                                </span>
                            </div>
                        </button>
                    </div>

                    <group>
                        <group string="ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ">
                            <field name="name" readonly="1"/>
                            <field name="document_type_id"
                                   options="{'no_create': True}"
                                   readonly="state in ['finalized', 'cancelled']"/>
                            <field name="partner_id"
                                   options="{'no_create': True, 'no_quick_create': True}"
                                   readonly="state in ['finalized', 'cancelled']"/>
                            <field name="notary_id"
                                   widget="many2one_avatar_user"
                                   readonly="state in ['finalized', 'cancelled']"/>
                            <field name="company_id"
                                   groups="base.group_multi_company"
                                   options="{'no_create': True}"
                                   readonly="state in ['finalized', 'cancelled']"/>
                        </group>

                        <group string="ุงูุชูุงุฑูุฎ ูุงูุณุนุฑ">
                            <field name="date_created" readonly="state in ['finalized', 'cancelled']"/>
                            <field name="date_finalized" readonly="1"/>
                            <field name="price" widget="monetary"
                                   readonly="state in ['finalized', 'cancelled']"/>
                            <field name="currency_id" invisible="1"/>
                        </group>
                    </group>

                    <notebook>
                        <!-- Tab: ุจูุงูุงุช ุนูุฏ ุงูุฒูุงุฌ -->
                        <page string="๐ ุฌููุน ุจูุงูุงุช ุนูุฏ ุงูุฒูุงุฌ" name="marriage_data">
                            <group>
                                <div class="alert alert-info" role="alert">
                                    <h4>๐ก ุฏููู ุฅุฏุฎุงู ุงูุจูุงูุงุช</h4>
                                    <p>ุงููุฃ ุงูุญููู ุฃุฏูุงู ุจุงุณุชุฎุฏุงู JSON format. ุงูุณุฎ ุงููุซุงู ุฃุฏูุงู ูุนุฏูู ุงูููู:</p>
                                    <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; direction: ltr; text-align: left;">
{
  "court_name": "ูุญููุฉ ุงูุฑุจุงุท ุงูุงุจุชุฏุงุฆูุฉ",
  "court_type": "ุงูุงุจุชุฏุงุฆูุฉ",
  "court_city": "ุงูุฑุจุงุท",

  "document_page": "123",
  "document_registry": "456",

  "notary_second": "ุนูู ุจู ุณุนูุฏ",

  "memo_number": "2025/123",
  "memo_record": "456",
  "memo_page": "78",

  "authorization_number": "2025/567",
  "authorization_date": "2025-11-05",

  "file_number": "2025/789",

  "groom_name": "ุฎุงูุฏ ุจู ุนุจุฏุงููู ุจู ูุญูุฏ",
  "groom_national_id": "AB123456",
  "groom_birthplace": "ุงูุฑุจุงุท",
  "groom_district": "ุญุณุงู",
  "groom_province": "ุงูุฑุจุงุท-ุณูุง-ุงููููุทุฑุฉ",
  "groom_birth_year": "1990",
  "groom_father": "ุนุจุฏุงููู ุจู ูุญูุฏ",
  "groom_mother": "ูุงุทูุฉ ุจูุช ุฃุญูุฏ",
  "groom_birth_certificate": "123/2025",
  "groom_commune": "ุฌูุงุนุฉ ุงูุฑุจุงุท",
  "groom_occupation": "ููุธู",
  "groom_marital_status": "ุฃุนุฒุจ",
  "groom_certificate_number": "456/2025",
  "groom_certificate_commune": "ุฌูุงุนุฉ ุงูุฑุจุงุท",
  "groom_certificate_province": "ุงูุฑุจุงุท-ุณูุง-ุงููููุทุฑุฉ",
  "groom_address": "ุดุงุฑุน ูุญูุฏ ุงูุฎุงูุณุ ุงูุฑุจุงุท",

  "bride_name": "ููุฑุฉ ุจูุช ุณุนุฏ ุจู ุนูู",
  "bride_birthplace": "ุงูุฏุงุฑ ุงูุจูุถุงุก",
  "bride_district": "ุนูู ุงูุดู",
  "bride_birth_year": "1995",
  "bride_father": "ุณุนุฏ ุจู ุนูู",
  "bride_mother": "ูุฏู ุจูุช ุฎุงูุฏ",
  "bride_birth_certificate": "789/2025",
  "bride_commune": "ุฌูุงุนุฉ ุงูุฏุงุฑ ุงูุจูุถุงุก",
  "bride_residence_certificate": "234/2025",
  "bride_leadership": "ููุงุฏุฉ ุนูู ุงูุดู",
  "bride_occupation": "ูุนููุฉ",
  "bride_marital_status": "ุนุฒุจุงุก",
  "bride_certificate_number": "567/2025",
  "bride_certificate_commune": "ุฌูุงุนุฉ ุงูุฏุงุฑ ุงูุจูุถุงุก",
  "bride_certificate_district": "ุนูู ุงูุดู",
  "bride_address": "ุดุงุฑุน ุงูุญุณู ุงูุซุงููุ ุงูุฏุงุฑ ุงูุจูุถุงุก",
  "bride_province": "ุงูุฏุงุฑ ุงูุจูุถุงุก-ุณุทุงุช",

  "dowry_total": 50000,
  "dowry_amount_text": "ุฎูุณูู ุฃูู ุฏุฑูู",

  "witness1_name": "ูุญูุฏ ุจู ุฃุญูุฏ",
  "witness1_national_id": "CD789012",
  "witness2_name": "ุนูู ุจู ุณุงูู",
  "witness2_national_id": "EF345678"
}
                                    </pre>
                                    <p><strong>๐ ูููุฒูุฏ ูู ุงูุชูุงุตูู:</strong> ุฑุงุฌุน ููู <code>MARRIAGE_CONTRACT_FIELDS.md</code> ูู ุฌุฐุฑ ุงููุดุฑูุน</p>
                                </div>
                            </group>

                            <group string="ุจูุงูุงุช ุงููุซููุฉ (JSON)">
                                <field name="data" widget="ace"
                                       options="{'mode': 'json'}"
                                       nolabel="1"
                                       readonly="state in ['finalized', 'cancelled']"
                                       placeholder="{'key': 'value'}"/>
                            </group>
                        </page>

                        <!-- Tab: ุฏููู ุงูุญููู -->
                        <page string="๐ ุฏููู ุงูุญููู" name="fields_guide">
                            <group>
                                <div style="padding: 20px;">
                                    <h3>๐ ูุงุฆูุฉ ุฌููุน ุงูุญููู ุงููุชุงุญุฉ</h3>

                                    <h4>๐๏ธ ุจูุงูุงุช ุงููุญููุฉ (3 ุญููู)</h4>
                                    <ul>
                                        <li><code>court_name</code> - ุงุณู ุงููุญููุฉ</li>
                                        <li><code>court_type</code> - ููุน ุงููุญููุฉ (ุงูุงุจุชุฏุงุฆูุฉุ ุงูุงุณุชุฆูุงููุฉุ ุฅูุฎ)</li>
                                        <li><code>court_city</code> - ูุฏููุฉ ุงููุญููุฉ</li>
                                    </ul>

                                    <h4>๐ ุจูุงูุงุช ุงููุซููุฉ (2 ุญูู)</h4>
                                    <ul>
                                        <li><code>document_page</code> - ุฑูู ุงูุตูุญุฉ</li>
                                        <li><code>document_registry</code> - ุฑูู ููุงุด ุงูุฃููุงู</li>
                                    </ul>

                                    <h4>๐จโโ๏ธ ุจูุงูุงุช ุงูุนุฏูู (1 ุญูู)</h4>
                                    <ul>
                                        <li><code>notary_second</code> - ุงุณู ุงูุนุฏู ุงูุซุงูู</li>
                                    </ul>

                                    <h4>๐ ุจูุงูุงุช ุงููุฐูุฑุฉ (3 ุญููู)</h4>
                                    <ul>
                                        <li><code>memo_number</code> - ุฑูู ุงููุฐูุฑุฉ</li>
                                        <li><code>memo_record</code> - ุฑูู ุงูุณุฌู</li>
                                        <li><code>memo_page</code> - ุตูุญุฉ ุงููุฐูุฑุฉ</li>
                                    </ul>

                                    <h4>โ ุจูุงูุงุช ุงูุชุฑุฎูุต (2 ุญูู)</h4>
                                    <ul>
                                        <li><code>authorization_number</code> - ุฑูู ุงูุฅุฐู</li>
                                        <li><code>authorization_date</code> - ุชุงุฑูุฎ ุงูุฅุฐู</li>
                                    </ul>

                                    <h4>๐ ุฑูู ุงูููู (1 ุญูู)</h4>
                                    <ul>
                                        <li><code>file_number</code> - ุฑูู ููู ูุณุชูุฏุงุช ุงูุฒูุงุฌ</li>
                                    </ul>

                                    <h4>๐จ ุจูุงูุงุช ุงูุฒูุฌ (17 ุญูู)</h4>
                                    <ul>
                                        <li><code>groom_name</code> - ุงูุงุณู ุงููุงูู</li>
                                        <li><code>groom_national_id</code> - ุฑูู ุงูุจุทุงูุฉ ุงููุทููุฉ</li>
                                        <li><code>groom_birthplace</code> - ููุงู ุงููููุงุฏ</li>
                                        <li><code>groom_district</code> - ุงูุฏุงุฆุฑุฉ</li>
                                        <li><code>groom_province</code> - ุงูุนูุงูุฉ/ุงูุฅูููู</li>
                                        <li><code>groom_birth_year</code> - ุณูุฉ ุงููููุงุฏ</li>
                                        <li><code>groom_father</code> - ุงุณู ุงูุฃุจ</li>
                                        <li><code>groom_mother</code> - ุงุณู ุงูุฃู</li>
                                        <li><code>groom_birth_certificate</code> - ุฑูู ุนูุฏ ุงููููุงุฏ</li>
                                        <li><code>groom_commune</code> - ุงูุฌูุงุนุฉ</li>
                                        <li><code>groom_occupation</code> - ุงููููุฉ</li>
                                        <li><code>groom_marital_status</code> - ุงูุญุงูุฉ ุงูุนุงุฆููุฉ</li>
                                        <li><code>groom_certificate_number</code> - ุฑูู ุงูุดูุงุฏุฉ ุงูุฅุฏุงุฑูุฉ</li>
                                        <li><code>groom_certificate_commune</code> - ุฌูุงุนุฉ ุงูุดูุงุฏุฉ</li>
                                        <li><code>groom_certificate_province</code> - ุฅูููู ุงูุดูุงุฏุฉ</li>
                                        <li><code>groom_address</code> - ุงูุนููุงู</li>
                                    </ul>

                                    <h4>๐ฐ ุจูุงูุงุช ุงูุฒูุฌุฉ (18 ุญูู)</h4>
                                    <ul>
                                        <li><code>bride_name</code> - ุงูุงุณู ุงููุงูู</li>
                                        <li><code>bride_birthplace</code> - ููุงู ุงููููุงุฏ</li>
                                        <li><code>bride_district</code> - ุงูุฏุงุฆุฑุฉ</li>
                                        <li><code>bride_birth_year</code> - ุณูุฉ ุงููููุงุฏ</li>
                                        <li><code>bride_father</code> - ุงุณู ุงูุฃุจ</li>
                                        <li><code>bride_mother</code> - ุงุณู ุงูุฃู</li>
                                        <li><code>bride_birth_certificate</code> - ุฑูู ุนูุฏ ุงููููุงุฏ</li>
                                        <li><code>bride_commune</code> - ุงูุฌูุงุนุฉ</li>
                                        <li><code>bride_residence_certificate</code> - ุฑูู ุดูุงุฏุฉ ุงูุณููู</li>
                                        <li><code>bride_leadership</code> - ุงูููุงุฏุฉ</li>
                                        <li><code>bride_occupation</code> - ุงููููุฉ</li>
                                        <li><code>bride_marital_status</code> - ุงูุญุงูุฉ ุงูุนุงุฆููุฉ</li>
                                        <li><code>bride_certificate_number</code> - ุฑูู ุงูุดูุงุฏุฉ ุงูุฅุฏุงุฑูุฉ</li>
                                        <li><code>bride_certificate_commune</code> - ุฌูุงุนุฉ ุงูุดูุงุฏุฉ</li>
                                        <li><code>bride_certificate_district</code> - ุฏุงุฆุฑุฉ ุงูุดูุงุฏุฉ</li>
                                        <li><code>bride_address</code> - ุงูุนููุงู</li>
                                        <li><code>bride_province</code> - ุงูุฅูููู</li>
                                    </ul>

                                    <h4>๐ฐ ุจูุงูุงุช ุงูููุฑ (2 ุญูู)</h4>
                                    <ul>
                                        <li><code>dowry_total</code> - ุงููุจูุบ ุงูุฅุฌูุงูู (ุฑููุงู)</li>
                                        <li><code>dowry_amount_text</code> - ุงููุจูุบ (ูุชุงุจุฉ) - ุงุฎุชูุงุฑูุ ุณูุชู ุชุญูููู ุชููุงุฆูุงู</li>
                                    </ul>

                                    <h4>๐ฅ ุจูุงูุงุช ุงูุดููุฏ (4 ุญููู)</h4>
                                    <ul>
                                        <li><code>witness1_name</code> - ุงุณู ุงูุดุงูุฏ ุงูุฃูู</li>
                                        <li><code>witness1_national_id</code> - ุจุทุงูุชู ุงููุทููุฉ</li>
                                        <li><code>witness2_name</code> - ุงุณู ุงูุดุงูุฏ ุงูุซุงูู</li>
                                        <li><code>witness2_national_id</code> - ุจุทุงูุชู ุงููุทููุฉ</li>
                                    </ul>

                                    <hr/>
                                    <p><strong>ุงููุฌููุน:</strong> 55+ ุญูู</p>
                                    <p><strong>ููุงุญุธุฉ:</strong> ุฌููุน ุงูุญููู ุงุฎุชูุงุฑูุฉ. ุงููุฃ ููุท ุงูุญููู ุงููุชููุฑุฉ ูุฏูู.</p>
                                </div>
                            </group>
                        </page>

                        <!-- Tab: ููุงุญุธุงุช -->
                        <page string="ููุงุญุธุงุช" name="notes">
                            <field name="notes" nolabel="1"
                                   placeholder="ููุงุญุธุงุช ุฅุถุงููุฉ..."
                                   readonly="state in ['finalized', 'cancelled']"/>
                        </page>

                        <!-- Tab: ุงูุณุฌู (Chatter) -->
                        <page string="ุงูุณุฌู" name="history">
                            <field name="message_ids" widget="mail_thread"/>
                        </page>
                    </notebook>
                </sheet>

                <!-- Chatter -->
                <chatter/>
            </form>
        </field>
    </record>

    <!-- Action ูููุชุญ ูุจุงุดุฑุฉ ุจุงูู view ุงูุฌุฏูุฏ -->
    <record id="action_notary_document_marriage" model="ir.actions.act_window">
        <field name="name">ุนููุฏ ุงูุฒูุงุฌ</field>
        <field name="res_model">notary.document</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="domain">[('document_type_id.code', '=', 'marriage_contract')]</field>
        <field name="context">{
            'default_document_type_id': ref('aadle_notary.document_type_marriage_contract'),
            'form_view_ref': 'aadle_notary.view_notary_document_marriage_form',
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                ุฅูุดุงุก ุนูุฏ ุฒูุงุฌ ุฌุฏูุฏ
            </p>
            <p>
                ุงููุฑ ุนูู "ุฅูุดุงุก" ูุฅุถุงูุฉ ุนูุฏ ุฒูุงุฌ ุฌุฏูุฏ
            </p>
        </field>
    </record>

    <!-- Menu Item -->
    <menuitem
        id="menu_notary_marriage_contracts"
        name="ุนููุฏ ุงูุฒูุงุฌ"
        parent="aadle_notary.menu_notary_documents"
        action="action_notary_document_marriage"
        sequence="11"/>

</odoo>
